## Last changed: 2010-03-29 10:57:51 UTC
version 10.0R1.8;
system {
    host-name m5c;
    root-authentication {
        encrypted-password "$1$Ione8UBl$0jTPTIs2w4tzDGtOk1EXN1"; ## SECRET-DATA
    }
    name-server {
        193.10.252.10;
        193.10.68.10;
    }
    login {
        class lrtest {
            logical-system R1;
            permissions all;
        }
        user bergroth {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$1$mZXyRzP4$a.NsNT0YzDQHwzFuSNvmy/"; ## SECRET-DATA
            }
        }
        user carlosb {
            full-name "carlos baez";
            uid 2003;
            class super-user;
            authentication {
                encrypted-password "$1$y7Trl12p$BgDstcGGkJBria3X/9AZG0"; ## SECRET-DATA
            }
        }
        user i2CAT {
            uid 2001;
            class super-user;
            authentication {
                encrypted-password "$1$z2l0BLRM$NrGfmFVRjcS9xIya1TFFT/"; ## SECRET-DATA
            }
        }
        user juanb {
            full-name "juan felipe botero";
            uid 2004;
            class super-user;
            authentication {
                encrypted-password "$1$.vVpGhwe$K3fTySI7Pao6AShstwg6.1"; ## SECRET-DATA
            }
        }
        user lisset {
            full-name Lisset_Diaz;
            uid 2007;
            class super-user;
            authentication {
                encrypted-password "$1$ZCZZ5tht$tT5zcvV3VtVhR2pT0PBwS1"; ## SECRET-DATA
            }
        }
        user lrtest {
            uid 2006;
            class lrtest;
            authentication {
                encrypted-password "$1$R4wMaurc$COpv6iu3tVtwZwoktFFP6."; ## SECRET-DATA
            }
        }
        user paum {
            full-name "pau minoves";
            uid 2002;
            class super-user;
            authentication {
                encrypted-password "$1$/tGzc742$jDl.oAY3TbhX.w9EF14XK/"; ## SECRET-DATA
            }
        }
        user xavib {
            full-name "xavi barrera";
            uid 2005;
            class super-user;
            authentication {
                encrypted-password "$1$bWGQ.exp$TRtP1flkWjHNNbgbqKM1L/"; ## SECRET-DATA
            }
        }
    }
    services {
        ssh {
            root-login deny;
            protocol-version v2;
        }
        netconf {
            ssh;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        file messages {
            any notice;
            authorization info;
        }
    }
    ntp {
        boot-server 193.10.252.21;
        server 193.10.252.21;
        server 130.237.222.20;
        server 192.36.144.22;
        server 193.10.7.250;
        server 193.10.7.246;
        server 192.36.143.150;
        server 192.36.133.17;
    }
}
logical-systems {
    R1 {
        interfaces {
            lt-0/3/0 {
                unit 1 {
                    encapsulation vlan;
                    vlan-id 1;
                    peer-unit 2;
                    family inet {
                        address 192.168.1.1/30;
                    }
                }
            }
        }
        protocols {
            rip {
                holddown 180;
                route-timeout 180;
                update-interval 30;
            }
        }
        routing-options {
            rib inet6.0 {
                static {
                    route fec0:1:1:4::/64 next-hop fec0:1:1:2::1;
                }
            }
            static {
                route 192.168.2.0/30 next-hop 192.168.1.2;
            }
        }
    }
    R2 {
        interfaces {
            lt-0/3/0 {
                unit 2 {
                    encapsulation vlan;
                    vlan-id 1;
                    peer-unit 1;
                    family inet {
                        address 192.168.1.2/30;
                    }
                }
                unit 3 {
                    encapsulation vlan;
                    vlan-id 2;
                    peer-unit 4;
                    family inet {
                        address 192.168.2.1/30;
                    }
                }
                unit 5 {
                    encapsulation vlan;
                    vlan-id 3;
                    peer-unit 6;
                    family inet {
                        address 192.168.3.1/30;
                    }
                }
            }
        }
        protocols {
            rip {
                group RIP-R2 {
                    export POLICY-RIP-R2;
                    neighbor all;
                }
            }
        }
        policy-options {
            policy-statement POLICY-RIP-R2 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
    }
    R3 {
        interfaces {
            lt-0/3/0 {
                unit 4 {
                    encapsulation vlan;
                    vlan-id 2;
                    peer-unit 3;
                    family inet {
                        address 192.168.2.2/30;
                    }
                }
            }
        }
        protocols {
            rip {
                group RIP-R3 {
                    export POLICY-RIP-R3;
                    neighbor all;
                }
            }
        }
        policy-options {
            policy-statement POLICY-RIP-R3 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
        routing-options {
            static {
                route 192.168.1.0/30 next-hop 192.168.2.1;
            }
        }
    }
    R4 {
        interfaces {
            lt-0/3/0 {
                unit 6 {
                    encapsulation vlan;
                    vlan-id 3;
                    peer-unit 5;
                    family inet {
                        address 192.168.3.2/30;
                    }
                }
                unit 7 {
                    encapsulation vlan;
                    vlan-id 5;
                    peer-unit 8;
                    family inet {
                        address 192.168.4.1/30;
                    }
                }
            }
        }
        protocols {
            ospf {
                export POLICY-OSPF-R4;
                area 0.0.0.0 {
                    interface lt-0/3/0.7;
                }
            }
            rip {
                group RIP-R4 {
                    export POLICY-RIP-R4;
                    neighbor all;
                }
            }
        }
        policy-options {
            policy-statement POLICY-OSPF-R4 {
                term 1 {
                    from protocol ospf;
                    then accept;
                }
                then reject;
            }
            policy-statement POLICY-RIP-R4 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
    }
    R5 {
        interfaces {
            lt-0/3/0 {
                unit 9 {
                    encapsulation vlan;
                    vlan-id 6;
                    peer-unit 10;
                    family inet {
                        address 192.168.5.1/30;
                    }
                }
            }
        }
        protocols {
            ospf {
                export POLICY-OSPF-R5;
                area 0.0.0.0 {
                    interface lt-0/3/0.9;
                }
            }
        }
        policy-options {
            policy-statement POLICY-OSPF-R5 {
                term 1 {
                    from protocol ospf;
                    then accept;
                }
                then reject;
            }
        }
    }
    R6 {
        interfaces {
            lt-0/3/0 {
                unit 8 {
                    encapsulation vlan;
                    vlan-id 5;
                    peer-unit 7;
                    family inet {
                        address 192.168.4.2/30;
                    }
                }
                unit 10 {
                    encapsulation vlan;
                    vlan-id 6;
                    peer-unit 9;
                    family inet {
                        address 192.168.5.2/30;
                    }
                }
                unit 11 {
                    encapsulation vlan;
                    vlan-id 7;
                    peer-unit 12;
                    family inet {
                        address 192.168.6.1/30;
                    }
                }
                unit 13 {
                    encapsulation vlan;
                    vlan-id 8;
                    peer-unit 14;
                    family inet {
                        address 192.168.7.1/30;
                    }
                }
            }
        }
        protocols {
            ospf {
                export POLICY-OSPF-R6;
                area 0.0.0.0 {
                    interface lt-0/3/0.8;
                    interface lt-0/3/0.10;
                }
            }
        }
        policy-options {
            policy-statement POLICY-OSPF-R6 {
                term 1 {
                    from protocol ospf;
                    then accept;
                }
                then reject;
            }
        }
    }
    R7 {
        interfaces {
            lt-0/3/0 {
                unit 12 {
                    encapsulation vlan;
                    vlan-id 7;
                    peer-unit 11;
                    family inet {
                        address 192.168.6.2/30;
                    }
                }
            }
        }
    }
    R8 {
        interfaces {
            lt-0/3/0 {
                unit 14 {
                    encapsulation vlan;
                    vlan-id 8;
                    peer-unit 13;
                    family inet {
                        address 192.168.7.2/30;
                    }
                }
            }
        }
    }
    RLIE {
        interfaces {
            lt-0/3/0 {
                unit 24 {
                    encapsulation vlan;
                    vlan-id 24;
                    peer-unit 0;
                }
            }
        }
    }
    logicalJuniper1 {
        interfaces {
            fe-0/0/2 {
                unit 22 {
                    vlan-id 22;
                }
            }
        }
    }
    logicalRIP1 {
        protocols {
            ospf {
                export POLICY-OSPF-m10;
                area 0.0.0.0 {
                    interface fe-0/0/1.66;
                }
            }
        }
        policy-options {
            policy-statement POLICY-OSPF-m10 {
                term 1 {
                    from protocol ospf;
                    then accept;
                }
            }
            policy-statement POLICY-RIP-logicalRIP1 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
            policy-statement POLICY-RIP-m10 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
        routing-options {
            static {
                route 200.1.0.0/24 discard;
                route 200.1.1.0/24 discard;
                route 200.1.2.0/24 discard;
                route 200.1.3.0/24 discard;
            }
        }
    }
    routerTest {
        interfaces {
            lt-0/3/0 {
                unit 31 {
                    encapsulation vlan;
                    vlan-id 31;
                    peer-unit 32;
                    family inet {
                        address 192.168.31.1/30;
                    }
                }
            }
        }
        protocols {
            ospf {
                export POLICY-OSPF-routerTest;
                area 0.0.0.0 {
                    interface lt-0/3/0.31;
                }
            }
            rip {
                group RIP-routerTest {
                    export POLICY-RIP-routerTest;
                    neighbor all;
                }
            }
        }
        policy-options {
            policy-statement POLICY-OSPF-routerTest {
                term 1 {
                    from protocol ospf;
                    then accept;
                }
                then reject;
            }
            policy-statement POLICY-RIP-routerTest {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
    }
    routerV2 {
        interfaces {
            fe-0/0/3 {
                unit 1 {
                    vlan-id 1;
                    family inet {
                        address 192.168.3.1/24;
                    }
                }
            }
        }
        protocols {
            rip {
                group RIP-routerV2 {
                    export POLICY-RIP-routerV2;
                    neighbor all;
                }
            }
        }
        policy-options {
            policy-statement POLICY-RIP-routerV2 {
                term 1 {
                    from protocol rip;
                    then accept;
                }
            }
        }
        routing-options {
            rib inet6.0 {
                static {
                    route 0::/0 next-hop 8:3::1;
                }
            }
        }
    }
}
interfaces {
    fe-0/0/0 {
        description "NORDUnet Uplink";
        unit 0 {
            family inet {
                address 194.68.13.29/28;
            }
        }
    }
    fe-0/0/1 {
        vlan-tagging;
        unit 33 {
            vlan-id 33;
            family inet {
                address 192.168.33.1/24;
            }
            family inet6 {
                address 43:43::43/120;
            }
        }
        unit 66 {
            vlan-id 66;
        }
    }
    fe-0/0/2 {
        vlan-tagging;
        unit 66 {
            vlan-id 66;
            family inet {
                address 192.168.66.2/24;
            }
        }
    }
    fe-0/0/3 {
        vlan-tagging;
        unit 43 {
            vlan-id 43;
            family inet {
                address 192.168.43.1/24;
            }
        }
    }
    lt-0/3/0 {
        unit 68 {
            encapsulation vlan;
            vlan-id 77;
            peer-unit 67;
        }
    }
    fxp0 {
        unit 0 {
            family inet {
                address 193.10.255.87/27;
            }
        }
    }
    lo0 {
        unit 0 {
            family inet {
                address 127.0.0.1/32;
            }
        }
    }
}
routing-options {
    static {
        route 0.0.0.0/0 next-hop 194.68.13.17;
        route 200.2.0.0/24 discard;
        route 200.2.1.0/24 discard;
        route 200.2.2.0/24 discard;
        route 200.2.3.0/24 discard;
        route 34.168.34.0/24 next-hop 192.168.3.1;
    }
}
protocols {
    ospf {
        export POLICY-OSPF-null;
        area 0.0.0.0 {
            interface fe-0/0/1.33;
        }
    }
    rip {
        holddown 180;
        route-timeout 180;
        update-interval 30;
    }
}
policy-options {
    policy-statement OSPF1 {
        term 1 {
            from protocol static;
            then accept;
        }
        term 2 {
            from {
                route-filter 192.168.24.0/24 exact;
            }
        }
        term 3 {
            from protocol rip;
            then accept;
        }
    }
    policy-statement POLICY-OSPF-null {
        term 1 {
            from protocol ospf;
            then accept;
        }
        then reject;
    }
    policy-statement POLICY-OSPF-router1 {
        term 1 {
            from protocol ospf;
            then accept;
        }
        term 2 {
            from protocol rip;
            then accept;
        }
        then reject;
    }
    policy-statement POLICY-RIP-null {
        term 1 {
            from protocol rip;
            then accept;
        }
        term 2 {
            from {
                route-filter 200.1.0.0/24 exact;
            }
            then accept;
        }
        term 3 {
            from {
                route-filter 200.1.1.0/24 exact;
            }
            then accept;
        }
        term 4 {
            from {
                route-filter 200.1.2.0/24 exact;
            }
            then accept;
        }
        term 5 {
            from {
                route-filter 200.1.3.0/24 exact;
            }
            then accept;
        }
    }
    policy-statement RIPNG_TEST {
        term 1 {
            from protocol ripng;
            then accept;
        }
        term 2 {
            from {
                route-filter 2001:db8::/32 exact;
            }
            then accept;
        }
    }
    policy-statement RIP_ROUTER1 {
        term 1 {
            from {
                route-filter 200.0.1.0/24 exact;
            }
            then accept;
        }
    }
}
